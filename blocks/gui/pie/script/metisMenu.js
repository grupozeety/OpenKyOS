!function(t){"use strict";function i(){var t=document.createElement("mm"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in i)if(void 0!==t.style[n])return{end:i[n]};return!1}function n(i){return this.each(function(){var n=t(this),s=n.data("mm"),e=t.extend({},o.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("mm",s=new o(this,e)),"string"==typeof i&&s[i]()})}t.fn.emulateTransitionEnd=function(i){var n=!1,o=this;t(this).one("mmTransitionEnd",function(){n=!0});var e=function(){n||t(o).trigger(s.end)};return setTimeout(e,i),this};var s=i();s&&(t.event.special.mmTransitionEnd={bindType:s.end,delegateType:s.end,handle:function(i){if(t(i.target).is(this))return i.handleObj.handler.apply(this,arguments)}});var o=function(i,n){this.$element=t(i),this.options=t.extend({},o.DEFAULTS,n),this.transitioning=null,this.init()};o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0,doubleTapToGo:!1,activeClass:"active",collapseClass:"collapse",collapseInClass:"in",collapsingClass:"collapsing"},o.prototype.init=function(){var i=this,n=this.options.activeClass,s=this.options.collapseClass,o=this.options.collapseInClass;this.$element.find("li."+n).has("ul").children("ul").addClass(s+" "+o),this.$element.find("li").not("."+n).has("ul").children("ul").addClass(s),this.options.doubleTapToGo&&this.$element.find("li."+n).has("ul").children("a").addClass("doubleTapToGo"),this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(s){var o=t(this),e=o.parent("li"),a=e.children("ul");if(s.preventDefault(),e.hasClass(n)&&!i.options.doubleTapToGo?i.hide(a):i.show(a),i.options.doubleTapToGo&&i.doubleTapToGo(o)&&"#"!==o.attr("href")&&""!==o.attr("href"))return s.stopPropagation(),void(document.location=o.attr("href"))})},o.prototype.doubleTapToGo=function(t){var i=this.$element;return t.hasClass("doubleTapToGo")?(t.removeClass("doubleTapToGo"),!0):t.parent().children("ul").length?(i.find(".doubleTapToGo").removeClass("doubleTapToGo"),t.addClass("doubleTapToGo"),!1):void 0},o.prototype.show=function(i){var n=this.options.activeClass,e=this.options.collapseClass,a=this.options.collapseInClass,l=this.options.collapsingClass,r=t(i),h=r.parent("li");if(!this.transitioning&&!r.hasClass(a)){h.addClass(n),this.options.toggle&&this.hide(h.siblings().children("ul."+a)),r.removeClass(e).addClass(l).height(0),this.transitioning=1;var d=function(){r.removeClass(l).addClass(e+" "+a).height(""),this.transitioning=0};return s?void r.one("mmTransitionEnd",t.proxy(d,this)).emulateTransitionEnd(o.TRANSITION_DURATION).height(r[0].scrollHeight):d.call(this)}},o.prototype.hide=function(i){var n=this.options.activeClass,e=this.options.collapseClass,a=this.options.collapseInClass,l=this.options.collapsingClass,r=t(i);if(!this.transitioning&&r.hasClass(a)){r.parent("li").removeClass(n),r.height(r.height())[0].offsetHeight,r.addClass(l).removeClass(e).removeClass(a),this.transitioning=1;var h=function(){this.transitioning=0,r.removeClass(l).addClass(e)};return s?void r.height(0).one("mmTransitionEnd",t.proxy(h,this)).emulateTransitionEnd(o.TRANSITION_DURATION):h.call(this)}};var e=t.fn.metisMenu;t.fn.metisMenu=n,t.fn.metisMenu.Constructor=o,t.fn.metisMenu.noConflict=function(){return t.fn.metisMenu=e,this}}(jQuery);